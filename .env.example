# Dployr Configuration
# Copy this file to .env and adjust the values:
#   cp .env.example .env

# ============================================
# REQUIRED - These values must be set
# ============================================

# MySQL/MariaDB root password (minimum 8 characters)
MYSQL_ROOT_PASSWORD=YourSecurePassword123!

# PostgreSQL root password (minimum 8 characters)
POSTGRES_ROOT_PASSWORD=YourSecurePostgresPassword123!

# pgAdmin password
PGADMIN_PASSWORD=YourPgAdminPassword123!

# Session secret for the dashboard (generate with: openssl rand -base64 32)
SESSION_SECRET=

# ============================================
# OPTIONAL - Default values will be used
# ============================================

# Dashboard database (uses MariaDB)
# Note: DB_USERNAME must be 'dashboard_user' - this is the user created by setup
DB_DATABASE=dashboard
DB_USERNAME=dashboard_user
DB_PASSWORD=

# Ports
DASHBOARD_PORT=3000
PHPMYADMIN_PORT=8080
PGADMIN_PORT=5050

# pgAdmin email (for login)
PGADMIN_EMAIL=admin@local.dev

# Server IP (automatically detected, only set if needed)
# SERVER_IP=192.168.1.100

# Workspace host IP (required for Cloud IDE access when using NPM with domain)
# When using a domain through NPM, workspace ports (10000-10100) aren't proxied,
# so direct IP access is needed. Set this to your server's public IP.
# WORKSPACE_HOST=192.168.1.100

# Installation path for user projects (default: /opt/dployr/users)
# Adjust if Dployr is not installed in /opt/dployr
# HOST_USERS_PATH=/home/user/dployr/users

# ============================================
# OPTIONAL - Nginx Proxy Manager
# ============================================
# Enable with: docker compose --profile proxy up -d

# Enable NPM integration (true/false)
NPM_ENABLED=false

# NPM ports (defaults shown)
NPM_HTTP_PORT=80
NPM_HTTPS_PORT=443
NPM_ADMIN_PORT=81

# NPM API credentials (set during setup or manually)
NPM_API_EMAIL=
NPM_API_PASSWORD=

# ============================================
# OPTIONAL - Email Configuration
# ============================================
# Email functionality for registration verification, password reset, and notifications

# Enable email functionality (true/false)
EMAIL_ENABLED=false

# SMTP Configuration
EMAIL_HOST=smtp.example.com
EMAIL_PORT=587
EMAIL_SECURE=false
EMAIL_USER=noreply@example.com
EMAIL_PASSWORD=

# Sender address and name
EMAIL_FROM=Dployr <noreply@example.com>

# Token expiration times (in hours)
EMAIL_VERIFICATION_EXPIRES=24
EMAIL_RESET_EXPIRES=1

# ============================================
# OPTIONAL - Security
# ============================================
# Two-Factor Authentication settings

# Require all users to enable 2FA (true/false)
# When enabled, users without 2FA are forced to set it up after login
# Admins are exempt until they enable 2FA themselves
REQUIRE_2FA=false
